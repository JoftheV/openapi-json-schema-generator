{{#with operation}}
package {{packageName}}.{{subpackage}};

import org.checkerframework.checker.nullness.qual.Nullable;
    {{#each builders}}
        {{#each keyToBuilder}}
            {{#with property}}
                {{#if containerJsonPathPiece}}
import {{packageName}}.{{subpackage}}.{{containerJsonPathPiece.pascalCase}};
                {{else}}
                    {{#if subpackage}}
import {{packageName}}.{{subpackage}}.{{jsonPathPiece.pascalCase}};
                    {{else}}
import {{packageName}}.{{jsonPathPiece.pascalCase}};
                    {{/if}}
                {{/if}}
            {{/with}}
        {{/each}}
    {{/each}}
    {{#with parametersInfo}}
import {{packageName}}.{{subpackage}}.{{jsonPathPiece.pascalCase}};
    {{/with}}
    {{#with responses}}
import {{packageName}}.{{subpackage}}.{{jsonPathPiece.pascalCase}};
    {{/with}}

public class {{jsonPathPiece.pascalCase}} {
    public static class {{jsonPathPiece.pascalCase}}CallData {
    {{#each builders}}
        {{#each keyToBuilder}}
            {{#with property}}
                {{#if containerJsonPathPiece}}
        public {{containerJsonPathPiece.pascalCase}}.@Nullable {{operationInputClassName}} {{@key.camelCase}};
                {{else}}
                    {{#if subpackage}}
        public {{jsonPathPiece.pascalCase}}.@Nullable {{operationInputClassName}} {{@key.camelCase}};
                    {{else}}
        public {{jsonPathPiece.pascalCase}}.@Nullable {{operationInputClassName}} {{@key.camelCase}};
                    {{/if}}
                {{/if}}
            {{/with}}
        {{/each}}
    {{/each}}
    }
    {{#each builders}}
        {{#each keyToBuilder}}

    public interface SetterFor{{@key.pascalCase}} <T> {
        {{../../jsonPathPiece.pascalCase}}CallData getInstance();
        T getBuilderAfter{{@key.pascalCase}}({{../../jsonPathPiece.pascalCase}}CallData instance);
        default T {{@key.camelCase}}({{#with property}}{{#if containerJsonPathPiece}}{{containerJsonPathPiece.pascalCase}}{{else}}{{jsonPathPiece.pascalCase}}{{/if}}.{{operationInputClassName}}{{/with}} {{@key.camelCase}}) {
            var instance = getInstance();
            instance.{{@key.camelCase}} = {{@key.camelCase}};
            return getBuilderAfter{{@key.pascalCase}}(instance);
        }
    }
        {{/each}}
    {{/each}}

    {{#each builders}}
    public static class {{className.pascalCase}} {
        private final {{../jsonPathPiece.pascalCase}}CallData instance;

        {{#if @last }}
        public {{className.pascalCase}}() {
            this.instance = new {{../jsonPathPiece.pascalCase}}CallData();
        }
        {{else}}
        public {{className.pascalCase}}{{../jsonPathPiece.pascalCase}}CallData instance) {
            this.instance = instance;
        }
        {{/if}}
    }
    {{/each}}
}
{{/with}}
